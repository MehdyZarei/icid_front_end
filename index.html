<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dropdown with API Fetch</title>
    <link rel="stylesheet" href="styles.css" />
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const dropdown = document.getElementById("dropdown");

        const arg1 = "DDC"; // Replace with the actual value you want to set
        const arg2 = "01"; // Replace with the actual value you want to set

        const url =
          "https://y7hqsirgg2.execute-api.us-east-2.amazonaws.com/dev"; // Replace with your API endpoint

        fetch(url, {
          method: "GET",
          headers: {
            "Argument-1": arg1,
            "Argument-2": arg2,
          },
        })
          .then((response) => response.json())
          .then((data) => {
            if (data.statusCode === 200) {
              const projects = data.body.projects;
              dropdown.innerHTML = "";

              projects.forEach((project) => {
                const option = document.createElement("option");
                option.value = project;
                option.textContent = project;
                dropdown.appendChild(option);
              });
            } else {
              console.error("Error: Invalid status code", data.statusCode);
            }
          })
          .catch((error) => console.error("Error fetching data:", error));
      });
    </script>
  </head>
  <body>
    <h1>Fetch Names for Dropdown</h1>
    <select id="dropdown"></select>
  </body>
</html>
